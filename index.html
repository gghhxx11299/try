<!-- Save as index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Ethiopia Crop Map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>#map { height: 100vh; }</style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// Base map
const map = L.map('map').setView([9.145, 40.489], 6);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

// NASA GIBS Cloud Layer (as WMS)
L.tileLayer.wms("https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi", {
  layers: 'MODIS_Terra_CorrectedReflectance_TrueColor',
  format: 'image/jpeg',
  transparent: false,
  opacity: 0.7,
  time: new Date().toISOString().split('T')[0]
}).addTo(map);

// Ethiopia crop zones (GeoJSON)
fetch('https://raw.githubusercontent.com/your-repo/ethiopia_crops.geojson')
  .then(r => r.json())
  .then(data => {
    L.geoJSON(data, {
      style: { fillColor: 'green', fillOpacity: 0.6, color: 'white' },
      onEachFeature: (f, l) => {
        l.bindPopup(`<b>${f.properties.region}</b><br>Crop: ${f.properties.crop}`);
      }
    }).addTo(map);
  });
</script>
</body>
</html>
